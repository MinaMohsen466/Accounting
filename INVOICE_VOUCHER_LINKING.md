# ๐ ุฑุจุท ุงูุณูุฏุงุช ุจุงูููุงุชูุฑ - ุชุญุฏูุซ ุชููุงุฆู ูุญุงูุฉ ุงููุงุชูุฑุฉ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทุจูู ูุธุงู ูุญุงุณุจู ูุชุทูุฑ ูุณูุญ **ุจุฑุจุท ุงูุณูุฏุงุช (ุณูุฏ ุงููุจุถ/ุงูุฏูุน) ุจุงูููุงุชูุฑ ุงููุญุฏุฏุฉ** ูุน **ุชุญุฏูุซ ุญุงูุฉ ุงููุงุชูุฑุฉ ุชููุงุฆูุงู** ูู `partial` ุฅูู `paid` ุนูุฏ ุงูุชูุงู ุงูุฏูุน.

---

## โ ุงูููุทู ุงููุญุงุณุจู ุงูููุทุจู

### 1๏ธโฃ **ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู (Opening Balance)**
- โ **ููุณุฌู ูุฑุฉ ูุงุญุฏุฉ ููุท** ุนูุฏ ุฅูุดุงุก ุงูุนููู/ุงูููุฑุฏ
- โ **ูุง ูููู ุชุนุฏููู ุจุนุฏ ุฃูู ูุนุงููุฉ** (ูุญูู ุชููุงุฆูุงู)
- โ ูุธูุฑ ูู ุฑุตูุฏ ุงูุนููู/ุงูููุฑุฏ ูู "ุฑุตูุฏ ุงุจุชุฏุงุฆู"

### 2๏ธโฃ **ุงูููุงุชูุฑ ูุงูุณูุฏุงุช (ูููุตูุฉ)**
#### **ุงููุงุชูุฑุฉ (Invoice)**
- ุชุณุฌู **ุงููุฏููููุฉ ุงููุงููุฉ** ุนูู ุงูุนููู/ุงูููุฑุฏ
- ูุซุงู: ูุงุชูุฑุฉ ูุจูุนุงุช 1000 ุฌููู โ ุงูุนููู ูุฏูู ุจู 1000

#### **ุงูุณูุฏ (Voucher)**
- ูุณุฌู **ุงุณุชูุงู/ุฏูุน ุงููุงู ูุนููุงู**
- ูุซุงู: ุณูุฏ ูุจุถ 400 ุฌููู โ ูุฎูุถ ุฑุตูุฏ ุงูุนููู ุจู 400

### 3๏ธโฃ **ุฑุจุท ุงูุณูุฏ ุจุงููุงุชูุฑุฉ (ุงุฎุชูุงุฑู)**
ุนูุฏ ุฅูุดุงุก ุณูุฏ ูุจุถ/ุฏูุน:

**ุฎูุงุฑ 1: ุจุฏูู ุฑุจุท ุจูุงุชูุฑุฉ**
- ุงูุณูุฏ ูุฎูุถ ุฑุตูุฏ ุงูุนููู/ุงูููุฑุฏ ุจุดูู ุนุงู
- ูุง ูุญุฏุซ ุชุญุฏูุซ ุชููุงุฆู ูุฃู ูุงุชูุฑุฉ

**ุฎูุงุฑ 2: ุฑุจุท ุงูุณูุฏ ุจูุงุชูุฑุฉ ูุญุฏุฏุฉ** ๐
- ุงูุณูุฏ ููุฑุจุท ุจูุงุชูุฑุฉ ูุนููุฉ
- ูุญุณุจ ุงููุธุงู ุฅุฌูุงูู ุงููุฏููุนุงุช ูููุงุชูุฑุฉ
- **ุชุญุฏูุซ ุชููุงุฆู** ูุญุงูุฉ ุงููุงุชูุฑุฉ:
  - `partial` โ ุฅุฐุง ูุงู ุงููุจูุบ ุงููุฏููุน < ุฅุฌูุงูู ุงููุงุชูุฑุฉ
  - `paid` โ ุฅุฐุง ูุงู ุงููุจูุบ ุงููุฏููุน โฅ ุฅุฌูุงูู ุงููุงุชูุฑุฉ

---

## ๐ง ุงูููุฒุงุช ุงูููุถุงูุฉ

### ๐ **ูู ุณูุฏ ุงููุจุถ (ReceiptVouchers.jsx)**

#### โจ ุญูู ุฌุฏูุฏ: "ุฑุจุท ุจูุงุชูุฑุฉ (ุงุฎุชูุงุฑู)"
- ูุธูุฑ **ููุท ุฅุฐุง ูุงู ููุงู ููุงุชูุฑ ูุจูุนุงุช ุบูุฑ ูุฏููุนุฉ ุจุงููุงูู** ููุนููู ุงูููุฎุชุงุฑ
- ูุนุฑุถ:
  - ุฑูู ุงููุงุชูุฑุฉ
  - ุงููุจูุบ ุงููุชุจูู
- ุนูุฏ ุงุฎุชูุงุฑ ูุงุชูุฑุฉ:
  - **ูููุฃ ุญูู ุงููุจูุบ ุชููุงุฆูุงู** ุจุงููุจูุบ ุงููุชุจูู ูู ุงููุงุชูุฑุฉ
  - ุนูุฏ ุญูุธ ุงูุณูุฏุ ูุชู ุชุญุฏูุซ ุญุงูุฉ ุงููุงุชูุฑุฉ ุชููุงุฆูุงู

#### ๐ ุงูููุทู ุงูุชููุงุฆู:
```javascript
// ุญุณุงุจ ุฅุฌูุงูู ุงููุฏููุนุงุช
const totalPaid = previouslyPaid + totalPaidViaVouchers

// ุชุญุฏูุซ ุญุงูุฉ ุงููุงุชูุฑุฉ
if (totalPaid >= invoiceTotal) {
  // ุงููุจูุบ ูุฏููุน ุจุงููุงูู
  updateInvoice(linkedInvoice.id, {
    paymentStatus: 'paid',
    paidAmount: invoiceTotal
  })
} else {
  // ุฏูุน ุฌุฒุฆู
  updateInvoice(linkedInvoice.id, {
    paymentStatus: 'partial',
    paidAmount: totalPaid
  })
}
```

### ๐ **ูู ุณูุฏ ุงูุฏูุน (PaymentVouchers.jsx)**

ููุณ ุงูููุทู ููุทุจู ุนูู **ุณูุฏุงุช ุงูุฏูุน ููููุฑุฏูู**:
- ูุนุฑุถ ููุงุชูุฑ ุงููุดุชุฑูุงุช ุบูุฑ ุงููุฏููุนุฉ ุจุงููุงูู
- ูุญุฏุซ ุชุญุฏูุซ ุชููุงุฆู ูุญุงูุฉ ูุงุชูุฑุฉ ุงููุดุชุฑูุงุช ุนูุฏ ุงูุชูุงู ุงูุฏูุน

---

## ๐ฏ ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู

### ๐ท **ุงูุณููุงุฑูู 1: ุฏูุน ูุงูู ูุจุงุดุฑ**
1. ุฅูุดุงุก ูุงุชูุฑุฉ ูุจูุนุงุช 1000 ุฌููู - ุญุงูุฉ: `unpaid`
2. ุฅูุดุงุก ุณูุฏ ูุจุถ 1000 ุฌููู - ุฑุจุท ุจุงููุงุชูุฑุฉ
3. โ **ุงููุชูุฌุฉ:** ุญุงูุฉ ุงููุงุชูุฑุฉ ุชุชุญุฏุซ ุชููุงุฆูุงู ุฅูู `paid`

### ๐ท **ุงูุณููุงุฑูู 2: ุฏูุนุงุช ุฌุฒุฆูุฉ ูุชุนุฏุฏุฉ**
1. ุฅูุดุงุก ูุงุชูุฑุฉ ูุจูุนุงุช 1000 ุฌููู - ุญุงูุฉ: `unpaid`
2. ุฅูุดุงุก ุณูุฏ ูุจุถ 400 ุฌููู - ุฑุจุท ุจุงููุงุชูุฑุฉ
   - โ **ุงููุชูุฌุฉ:** ุญุงูุฉ ุงููุงุชูุฑุฉ โ `partial`ุ ูุฏููุน: 400
3. ุฅูุดุงุก ุณูุฏ ูุจุถ 300 ุฌููู - ุฑุจุท ุจููุณ ุงููุงุชูุฑุฉ
   - โ **ุงููุชูุฌุฉ:** ุญุงูุฉ ุงููุงุชูุฑุฉ โ `partial`ุ ูุฏููุน: 700
4. ุฅูุดุงุก ุณูุฏ ูุจุถ 300 ุฌููู - ุฑุจุท ุจููุณ ุงููุงุชูุฑุฉ
   - โ **ุงููุชูุฌุฉ:** ุญุงูุฉ ุงููุงุชูุฑุฉ โ `paid`ุ ูุฏููุน: 1000

### ๐ท **ุงูุณููุงุฑูู 3: ุฏูุน ุจุฏูู ุฑุจุท ุจูุงุชูุฑุฉ**
1. ุงูุนููู ูุฏูู ุฑุตูุฏ 5000 ุฌููู (ุนุฏุฉ ููุงุชูุฑ)
2. ุฅูุดุงุก ุณูุฏ ูุจุถ 2000 ุฌููู - **ุจุฏูู ุฑุจุท ุจูุงุชูุฑุฉ ูุญุฏุฏุฉ**
3. โ **ุงููุชูุฌุฉ:** 
   - ุฑุตูุฏ ุงูุนููู ูุฎูุถ ุจู 2000
   - ูุง ูุญุฏุซ ุชุญุฏูุซ ูุฃู ูุงุชูุฑุฉ
   - ุงููุญุงุณุจ ูุฎุชุงุฑ ูุงุญูุงู ููู ููุฒุน ูุฐุง ุงููุจูุบ

---

## ๐๏ธ ุงููููุงุช ุงูููุนุฏูุฉ

### 1. `src/components/ReceiptVouchers.jsx`
**ุงูุชุนุฏููุงุช:**
- โ ุฅุถุงูุฉ `invoices` ู `updateInvoice` ุฅูู destructuring
- โ ุฅุถุงูุฉ ุญูู `invoiceId` ุฅูู `formData`
- โ ุฅุถุงูุฉ ุฏุงูุฉ `getUnpaidInvoicesForCustomer(customerId)`
- โ ุฅุถุงูุฉ ุญูู ุงุฎุชูุงุฑู "ุฑุจุท ุจูุงุชูุฑุฉ" ูู ุงููููุฐุฌ
- โ ุฅุถุงูุฉ ููุทู ุชุญุฏูุซ ุชููุงุฆู ูููุงุชูุฑุฉ ูู `handleSubmit`
- โ ููุก ุงููุจูุบ ุชููุงุฆูุงู ุนูุฏ ุงุฎุชูุงุฑ ูุงุชูุฑุฉ

### 2. `src/components/PaymentVouchers.jsx`
**ุงูุชุนุฏููุงุช:**
- โ ุฅุถุงูุฉ `invoices` ู `updateInvoice` ุฅูู destructuring
- โ ุฅุถุงูุฉ ุญูู `invoiceId` ุฅูู `formData`
- โ ุฅุถุงูุฉ ุฏุงูุฉ `getUnpaidInvoicesForSupplier(supplierId)`
- โ ุฅุถุงูุฉ ุญูู ุงุฎุชูุงุฑู "ุฑุจุท ุจูุงุชูุฑุฉ" ูู ุงููููุฐุฌ
- โ ุฅุถุงูุฉ ููุทู ุชุญุฏูุซ ุชููุงุฆู ูููุงุชูุฑุฉ ูู `handleSubmit`
- โ ููุก ุงููุจูุบ ุชููุงุฆูุงู ุนูุฏ ุงุฎุชูุงุฑ ูุงุชูุฑุฉ

### 3. `src/services/DataService.js`
- โน๏ธ **ูุง ุญุงุฌุฉ ูุชุนุฏูู** - ุงูุญููู ุงูุฅุถุงููุฉ ุชูุญูุธ ุชููุงุฆูุงู ูุน ุจูุงูุงุช ุงูุณูุฏ

### 4. `src/hooks/useAccounting.js`
- โน๏ธ **ูุง ุญุงุฌุฉ ูุชุนุฏูู** - `updateInvoice` ููุฌูุฏ ุจุงููุนู

---

## ๐ ุงููููุฏ ุงููุญุงุณุจูุฉ

### ุณูุฏ ุงููุจุถ (Receipt Voucher)
```
ูู ุญ/ ุงูุฎุฒููุฉ (ุฃู ุงูุจูู)    400  ูุฏูู
ุฅูู ุญ/ ุงูุนููุงุก               400  ุฏุงุฆู
```

### ุณูุฏ ุงูุฏูุน (Payment Voucher)
```
ูู ุญ/ ุงูููุฑุฏูู                300  ูุฏูู
ุฅูู ุญ/ ุงูุฎุฒููุฉ (ุฃู ุงูุจูู)     300  ุฏุงุฆู
```

---

## โ ุงูููุงุฆุฏ ุงููุญุงุณุจูุฉ

1. **ุฑูุงุจุฉ ูุญุงุณุจูุฉ ุฏูููุฉ** - ูู ุณูุฏ ูุณุชูู ุนู ุงููุงุชูุฑุฉ
2. **ูุฑููุฉ ูู ุงูุฏูุน** - ูููู ุฅูุดุงุก ุณูุฏุงุช ุจุฏูู ุฑุจุท ุจููุงุชูุฑ
3. **ุชุญุฏูุซ ุชููุงุฆู** - ุชูููู ุงูุฃุฎุทุงุก ุงูุจุดุฑูุฉ
4. **ุชูุงูู ูุน ุงููุนุงููุฑ ุงููุญุงุณุจูุฉ** - ุงููุงุชูุฑุฉ ูุงูุณูุฏ ูุณุชูุฏุงู ูููุตูุงู
5. **ุดูุงููุฉ ูุงููุฉ** - ุณูููุฉ ุชุชุจุน ุงููุฏููุนุงุช ููู ูุงุชูุฑุฉ

---

## ๐ ุงูุญูุงูุฉ ูู ุงูุฃุฎุทุงุก

- โ **ูุง ูููู ุชุนุฏูู ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู ุจุนุฏ ุฃูู ูุนุงููุฉ**
- โ ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ูุจู ุงูุญูุธ
- โ ุญุณุงุจ ุชููุงุฆู ูุฅุฌูุงูู ุงููุฏููุนุงุช
- โ ูุง ูุญุฏุซ ุชูุฑุงุฑ ูู ุงููููุฏ ุงููุญุงุณุจูุฉ

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุฑุจุท ุงูุณูุฏ ุจูุงุชูุฑุฉ ุงุฎุชูุงุฑู** - ูููู ุฅูุดุงุก ุณูุฏุงุช ุนุงูุฉ ุจุฏูู ุฑุจุท
2. **ูุง ูููู ุชุนุฏูู ุงูุณูุฏ ุจุนุฏ ุญูุธู** - ูููู ููุท ุญุฐูู
3. **ุนูุฏ ุญุฐู ุณูุฏ ูุฑุชุจุท ุจูุงุชูุฑุฉ** - ูููุตุญ ุจุชุญุฏูุซ ุญุงูุฉ ุงููุงุชูุฑุฉ ูุฏููุงู
4. **ุฑุตูุฏ ุงูุนููู/ุงูููุฑุฏ** = ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู + ุงูููุงุชูุฑ - ุงูุณูุฏุงุช

---

## ๐ ุงูุฏุนู ุงูููู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู ุฃู ุงุญุชุฌุช ุฅูู ุชุนุฏููุงุช ุฅุถุงููุฉุ ููุฑุฌู ุงูุชูุงุตู.

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 30 ุฃูุชูุจุฑ 2025  
**ุงูุฅุตุฏุงุฑ:** 1.0  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุฅูุชุงุฌ

# ููุฒุฉ ุชุนุฏูู ุงูููุงุชูุฑ (ุงูููุทู ุงูุตุญูุญ)
## Invoice Edit Feature (Correct Logic)

## ุงูุชุญุฏูุซุงุช (Updates)

### 1. ุงูุชูููุฒ ุจูู ููุงุชูุฑ ุงููุจูุนุงุช ูุงููุดุชุฑูุงุช
**Differentiation Between Sales and Purchase Invoices**

#### ๐ ููุงุชูุฑ ุงููุจูุนุงุช (Sales Invoices)
- โ **ูููู ุชุนุฏูู ุฌููุน ุงูููู ุงููุงููุฉ** (Can edit all financial values)
- โ **ุงูุชุนุฏููุงุช ุงููุชุงุญุฉ:**
  - ุชุบููุฑ ุงููููุฉ (Change quantity)
  - ุชุบููุฑ ุงูุณุนุฑ (Change price)
  - ุชุบููุฑ ุงูุฎุตู (Change discount)
  - ุชุบููุฑ/ุฅุถุงูุฉ ุงูููุชุฌุงุช (Change/Add products)
  - ุญุฐู/ุฅุถุงูุฉ ุนูุงุตุฑ (Delete/Add items)
  - ุชุนุฏูู ุงูุถุฑูุจุฉ (Edit tax)
  - ุชุนุฏูู ุงูููุงุญุธุงุช (Edit notes)
- ๐ **ุงูุชุญูู ุงูุชููุงุฆู:** 
  - ุงูุชุญูู ูู ุชููุฑ ุงูููุชุฌุงุช ูู ุงููุฎุฒูู
  - ุนูุฏ ุฒูุงุฏุฉ ุงููููุฉ: ุงูุชุฃูุฏ ูู ุชููุฑ ุงููููุฉ ุงูุฅุถุงููุฉ
  - ุนูุฏ ุญุฐู ููุชุฌ: ูุนูุฏ ูููุฎุฒูู ุชููุงุฆูุงู
- โ **ูููู ุญุฐููุง:** ุชุฑุฌุน ุงูููุชุฌุงุช ูููุฎุฒูู

#### ๐ฆ ููุงุชูุฑ ุงููุดุชุฑูุงุช (Purchase Invoices)
- โ **ูุง ูููู ุชุนุฏูู ุงูููู ุงููุงููุฉ** (Cannot edit financial values) - ูุซุงุฆู ุฑุณููุฉ
- โ **ูููู ุชุนุฏูู ุงูููุงุญุธุงุช ููุท** (Can only edit notes)
- ๐ **ุงูุญููู ุงููุนุทูุฉ:**
  - ุงููููุฉ (Quantity)
  - ุงูุณุนุฑ (Price)
  - ุงูุฎุตู (Discount)
  - ุงูููุชุฌุงุช (Products)
  - ุฅุถุงูุฉ/ุญุฐู ุนูุงุตุฑ (Add/Remove items)
- ๐ **ุงูุฎูุงุฑุงุช ุงูุจุฏููุฉ:**
  - **ุฒุฑ "ุฅุฑุฌุงุน"**: ุฅุฑุฌุงุน ูุงูู ุฃู ุฌุฒุฆู ูุน ุงูุชุญูู ูู ุงููุฎุฒูู
  - **ุฒุฑ "ุฅุฑุฌุงุน ูุฅุนุงุฏุฉ ูุชุงุจุฉ"**: ูุฑุฌุน ุงููุงุชูุฑุฉ ูููุชุญ ููุฑู ุฌุฏูุฏ ุจููุณ ุงูุจูุงูุงุช

### 2. ุฑุณุงุฆู ุงูุชูุจูู (Alert Messages)

#### ูุงุชูุฑุฉ ุงููุดุชุฑูุงุช (Purchase Invoice)
```
โ๏ธ ุชูุจูู:
ูุง ูููู ุชุนุฏูู ููุงุชูุฑ ุงููุดุชุฑูุงุช ูุฃููุง ูุซุงุฆู ุฑุณููุฉ ูู ุงูููุฑุฏูู.
ููููู ููุท ุนุฑุถ ุงููุงุชูุฑุฉ ุฃู ุชุนุฏูู ุงูููุงุญุธุงุช.
ูุฅุฌุฑุงุก ุชุบููุฑุงุชุ ูุฑุฌู ุงุณุชุฎุฏุงู ุฎูุงุฑ "ุฅุฑุฌุงุน ูุฅุนุงุฏุฉ ูุชุงุจุฉ".
```

#### ูุงุชูุฑุฉ ุงููุจูุนุงุช (Sales Invoice)
```
โน๏ธ ููุงุญุธุฉ:
ููููู ุชุนุฏูู ูุงุชูุฑุฉ ุงููุจูุนุงุช (ุงููููุฉุ ุงูุณุนุฑุ ุงูุฎุตูุ ุงูููุชุฌุงุช).
ุณูุชู ุงูุชุญูู ูู ุชููุฑ ุงูููุชุฌุงุช ูู ุงููุฎุฒูู ุชููุงุฆูุงู.
```

### 3. ููุทู ุงูุชุนุฏูู (Edit Logic)

#### ุนูุฏ ุชุนุฏูู ูุงุชูุฑุฉ ูุจูุนุงุช:

```javascript
1. ุนูุณ ุชุฃุซูุฑ ุงููุงุชูุฑุฉ ุงููุฏููุฉ ุนูู ุงููุฎุฒูู
   - ุฅุฑุฌุงุน ุงููููุงุช ุงููุฏููุฉ ูููุฎุฒูู (ุฅุถุงูุฉ)
   - console.log: "๐ฆ ุนูุณ ุชุฃุซูุฑ ุงููุงุชูุฑุฉ ุงููุฏููุฉ ุนูู ุงููุฎุฒูู"

2. ุนูุณ ุงููููุฏ ุงููุญุงุณุจูุฉ ุงููุฏููุฉ
   - ุงุณุชุฏุนุงุก reverseJournalEntriesForInvoice
   - console.log: "๐ ุนูุณ ุงููููุฏ ุงููุญุงุณุจูุฉ ุงููุฏููุฉ"

3. ุชุทุจูู ุงููุงุชูุฑุฉ ุงูุฌุฏูุฏุฉ
   - ุชุญุฏูุซ ุจูุงูุงุช ุงููุงุชูุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - console.log: "โจ ุชุทุจูู ุงููุงุชูุฑุฉ ุงููุนุฏูุฉ ุงูุฌุฏูุฏุฉ"

4. ุชุทุจูู ุชุฃุซูุฑ ุงููุงุชูุฑุฉ ุงูุฌุฏูุฏุฉ ุนูู ุงููุฎุฒูู
   - ุฎุตู ุงููููุงุช ุงูุฌุฏูุฏุฉ ูู ุงููุฎุฒูู
   - console.log: "๐ฆ ุชุทุจูู ุชุฃุซูุฑ ุงููุงุชูุฑุฉ ุงูุฌุฏูุฏุฉ ุนูู ุงููุฎุฒูู (ุฎุตู ูู ุงููุฎุฒูู)"

5. ุชุณุฌูู ุงููููุฏ ุงููุญุงุณุจูุฉ ุงูุฌุฏูุฏุฉ
   - ุฅุฐุง ูุงู recordPaymentNow ููุนู: ุชุณุฌูู ุงูุฏูุน
   - ุฅุฐุง ูุงู deductFromBalance ููุนู: ุฎุตู ูู ุงูุฑุตูุฏ
   - console.log: "๐ ุชุณุฌูู ุงููููุฏ ุงููุญุงุณุจูุฉ ุงูุฌุฏูุฏุฉ"
```

### 4. ููุฒุฉ "ุฅุฑุฌุงุน ูุฅุนุงุฏุฉ ูุชุงุจุฉ" (Return & Rewrite)

#### ููููุงุชูุฑ ุงููุดุชุฑูุงุช ููุท:
```javascript
1. ุงูุชุญูู ูู ุชููุฑ ุฌููุน ุงูููุชุฌุงุช ูู ุงููุฎุฒูู
   - ูุฌุจ ุชููุฑ ุงููููุฉ ุงููุงููุฉ ููุฅุฑุฌุงุน ููููุฑุฏ
   - ุฅุฐุง ูู ุชุชููุฑ: ุฑุณุงูุฉ ุฎุทุฃ ุชูุถุญ ุงูููุชุฌ ูุงููููุฉ ุงููุชููุฑุฉ

2. ุฅูุดุงุก ูุงุชูุฑุฉ ุฅุฑุฌุงุน
   - ุฑูู ุงููุงุชูุฑุฉ: RET-[ุฑูู ุงููุงุชูุฑุฉ ุงูุฃุตููุฉ]
   - isReturn: true
   - returnReason: "ุฅุฑุฌุงุน ูุฅุนุงุฏุฉ ูุชุงุจุฉ"

3. ุชุญุฏูุซ ุงููุฎุฒูู
   - ุฎุตู ุงููููุงุช ูู ุงููุฎุฒูู (ูุฃููุง ุชุฑุฌุน ููููุฑุฏ)

4. ูุชุญ ูููุฐุฌ ูุงุชูุฑุฉ ุฌุฏูุฏุฉ
   - ูุชู ููุก ุฌููุน ุงูุจูุงูุงุช ูู ุงููุงุชูุฑุฉ ุงููุฏููุฉ
   - ุฑูู ูุงุชูุฑุฉ ุฌุฏูุฏ: PUR-[MMDD]-[XXX]
   - ูููู ูููุณุชุฎุฏู ุชุนุฏูู ุฃู ุดูุก ูุจู ุงูุญูุธ
```

### 5. ุงูุฃุฒุฑุงุฑ ูู ุฌุฏูู ุงูููุงุชูุฑ (Invoice Table Buttons)

#### ูุฌููุน ุงูููุงุชูุฑ:
- **ุฒุฑ "ุนุฑุถ/ุชุนุฏูู"**: ููุชุญ ูุงูุฐุฉ ุงููุงุชูุฑุฉ
- **ุฒุฑ "ุทุจุงุนุฉ"**: ูุทุจุน ุงููุงุชูุฑุฉ

#### ููููุงุชูุฑ ุงูุฃุตููุฉ (ุบูุฑ ุงููุฑุชุฌุนุฉ):
- **ุฒุฑ "ุฅุฑุฌุงุน" ๐** (ุจุฑุชูุงูู): ููุชุญ ูุงูุฐุฉ ุงูุฅุฑุฌุงุน ูุน ุงุฎุชูุงุฑ ุงููููุงุช

#### ูููุงุชูุฑ ุงููุดุชุฑูุงุช ุงูุฃุตููุฉ ููุท:
- **ุฒุฑ "ุฅุฑุฌุงุน ูุฅุนุงุฏุฉ ูุชุงุจุฉ" โ๏ธ** (ุฃุฒุฑู): 
  - ูุฑุฌุน ุงููุงุชูุฑุฉ ูุจุงุดุฑุฉ
  - ููุชุญ ููุฑู ุฌุฏูุฏ ุจููุณ ุงูุจูุงูุงุช
  - ูุชุญูู ูู ุงููุฎุฒูู ูุจู ุงูุฅุฑุฌุงุน

#### ููููุงุชูุฑ ุงููุฑุชุฌุนุฉ:
- **ุฒุฑ "ุญุฐู"** (ุฃุญูุฑ): ูุญุฐู ูุงุชูุฑุฉ ุงูุฅุฑุฌุงุน

## ุงูุณููุงุฑูููุงุช (Scenarios)

### ุณููุงุฑูู 1: ุชุนุฏูู ูููุฉ ูู ูุงุชูุฑุฉ ูุจูุนุงุช
```
1. ูุชุญ ูุงุชูุฑุฉ ูุจูุนุงุช ููุฌูุฏุฉ
2. ุชุบููุฑ ุงููููุฉ ูู 10 ุฅูู 15
3. ุงููุธุงู ูุชุญูู: ูู ูุชููุฑ 5 ูุทุน ุฅุถุงููุฉ ูู ุงููุฎุฒููุ
4. ุฅุฐุง ุชููุฑุช:
   - ูุชู ุฅุฑุฌุงุน 10 ูููุฎุฒูู
   - ูุชู ุฎุตู 15 ูู ุงููุฎุฒูู
   - ุชุญุฏูุซ ุงููููุฏ ุงููุญุงุณุจูุฉ
5. ุฅุฐุง ูู ุชุชููุฑ: ุฑุณุงูุฉ ุฎุทุฃ
```

### ุณููุงุฑูู 2: ุญุฐู ููุชุฌ ูู ูุงุชูุฑุฉ ูุจูุนุงุช
```
1. ูุชุญ ูุงุชูุฑุฉ ูุจูุนุงุช ููุฌูุฏุฉ
2. ุญุฐู ููุชุฌ ูุงู ุจูููุฉ 8
3. ุนูุฏ ุงูุญูุธ:
   - ูุชู ุฅุฑุฌุงุน 8 ูุทุน ูููุฎุฒูู
   - ูุชู ุชุญุฏูุซ ุงููููุฏ ุงููุญุงุณุจูุฉ
   - ุงูููุชุฌ ูู ูุนุฏ ูู ุงููุงุชูุฑุฉ
```

### ุณููุงุฑูู 3: "ุฅุฑุฌุงุน ูุฅุนุงุฏุฉ ูุชุงุจุฉ" ููุงุชูุฑุฉ ูุดุชุฑูุงุช
```
1. ุนุฑุถ ูุงุชูุฑุฉ ูุดุชุฑูุงุช (ูุซูุงู: PUR-1029-001)
2. ุงูููุฑ ุนูู ุฒุฑ "ุฅุฑุฌุงุน ูุฅุนุงุฏุฉ ูุชุงุจุฉ" โ๏ธ
3. ุงููุธุงู ูุชุญูู ูู ุชููุฑ ุฌููุน ุงูููุชุฌุงุช ูู ุงููุฎุฒูู
4. ุฅุฐุง ุชููุฑุช:
   - ูุชู ุฅูุดุงุก ูุงุชูุฑุฉ ุฅุฑุฌุงุน: RET-PUR-1029-001
   - ูุชู ุฎุตู ุงููููุงุช ูู ุงููุฎุฒูู
   - ููุชุญ ููุฑู ูุงุชูุฑุฉ ุฌุฏูุฏุฉ: PUR-1029-002
   - ุงูุจูุงูุงุช ูููุง ููููุกุฉ ูู ุงููุงุชูุฑุฉ ุงููุฏููุฉ
   - ูููู ุงูุชุนุฏูู ุนูู ุฃู ุดูุก ูุจู ุงูุญูุธ
5. ุฅุฐุง ูู ุชุชููุฑ: ุฑุณุงูุฉ ุฎุทุฃ ุชูุถุญ ุงูููุชุฌ ุงูููููุฏ
```

### ุณููุงุฑูู 4: ูุญุงููุฉ ุชุนุฏูู ูุงุชูุฑุฉ ูุดุชุฑูุงุช
```
1. ูุชุญ ูุงุชูุฑุฉ ูุดุชุฑูุงุช ููุฌูุฏุฉ
2. ุธููุฑ ุฑุณุงูุฉ ุชูุจูู ุจุงูููู ุงูุฃุตูุฑ
3. ุฌููุน ุงูุญููู ุงููุงููุฉ ูุนุทูุฉ (ุฑูุงุฏูุฉ)
4. ูููู ุชุนุฏูู ุงูููุงุญุธุงุช ููุท
5. ููุชุบููุฑุงุช ุงููุงููุฉ: 
   - ุฎูุงุฑ 1: ุฒุฑ "ุฅุฑุฌุงุน" ููุฅุฑุฌุงุน ุงูุฌุฒุฆู/ุงููุงูู
   - ุฎูุงุฑ 2: ุฒุฑ "ุฅุฑุฌุงุน ูุฅุนุงุฏุฉ ูุชุงุจุฉ" ูุฅูุดุงุก ูุงุชูุฑุฉ ุฌุฏูุฏุฉ ูุนุฏูุฉ
```

## ุงูููุทู ุงููุญุงุณุจู (Accounting Logic)

### ููุงุฐุง ููุงุชูุฑ ุงููุจูุนุงุช ูุงุจูุฉ ููุชุนุฏููุ
- **ุงูุณุจุจ:** ูุฏ ุชุญุฏุซ ุฃุฎุทุงุก ูู ุฅุฏุฎุงู ูุงุชูุฑุฉ ููุนููู
- **ุงูุฃูุงู:** ูุชู ุนูุณ ุฌููุน ุงูุชุฃุซูุฑุงุช ุซู ุฅุนุงุฏุฉ ุชุทุจูููุง
- **ุงูุชุญูู:** ุงููุธุงู ูุชุญูู ุชููุงุฆูุงู ูู ุชููุฑ ุงูููุชุฌุงุช
- **ุงูุดูุงููุฉ:** ุฌููุน ุงูุนูููุงุช ูุณุฌูุฉ ูู console.log

### ููุงุฐุง ููุงุชูุฑ ุงููุดุชุฑูุงุช ุบูุฑ ูุงุจูุฉ ููุชุนุฏููุ
- **ุงูุณุจุจ:** ูู ูุซุงุฆู ุฑุณููุฉ ูู ุงูููุฑุฏูู
- **ุงูุญูุงูุฉ:** ููุน ุงูุชูุงุนุจ ูู ุฃุณุนุงุฑ ููููุงุช ุงููุดุชุฑูุงุช
- **ุงูุจุฏูู:** ุงุณุชุฎุฏุงู ูุธุงู ุงูุฅุฑุฌุงุน ุฃู "ุฅุฑุฌุงุน ูุฅุนุงุฏุฉ ูุชุงุจุฉ"
- **ุงููุฑููุฉ:** ุฎูุงุฑ "ุฅุฑุฌุงุน ูุฅุนุงุฏุฉ ูุชุงุจุฉ" ูููุฑ ุฅููุงููุฉ ุงูุชุตุญูุญ

## ุงูุงุฎุชุจุงุฑ (Testing)

## ุงูุงุฎุชุจุงุฑ (Testing)

### ุงุฎุชุจุงุฑุงุช ูุทููุจุฉ:
- [ ] ุฅูุดุงุก ูุงุชูุฑุฉ ูุจูุนุงุช ุฌุฏูุฏุฉ
- [ ] ุชุนุฏูู ูููุฉ ูู ูุงุชูุฑุฉ ูุจูุนุงุช (ุฒูุงุฏุฉ)
- [ ] ุชุนุฏูู ูููุฉ ูู ูุงุชูุฑุฉ ูุจูุนุงุช (ููุตุงู)
- [ ] ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ ููุงุชูุฑุฉ ูุจูุนุงุช
- [ ] ุญุฐู ููุชุฌ ูู ูุงุชูุฑุฉ ูุจูุนุงุช
- [ ] ูุญุงููุฉ ุชุนุฏูู ูุงุชูุฑุฉ ูุดุชุฑูุงุช (ูุฌุจ ุฃู ุชูุดู)
- [ ] ุฅุฑุฌุงุน ูุงุชูุฑุฉ ูุดุชุฑูุงุช (ุฌุฒุฆู)
- [ ] ุฅุฑุฌุงุน ูุงุชูุฑุฉ ูุดุชุฑูุงุช (ูุงูู)
- [ ] ุงุณุชุฎุฏุงู "ุฅุฑุฌุงุน ูุฅุนุงุฏุฉ ูุชุงุจุฉ" ููุงุชูุฑุฉ ูุดุชุฑูุงุช
- [ ] ุงูุชุญูู ูู ุงููุฎุฒูู ุจุนุฏ ูู ุนูููุฉ
- [ ] ุงูุชุญูู ูู ุงููููุฏ ุงููุญุงุณุจูุฉ
- [ ] ุงูุชุญูู ูู ุฃุฑุตุฏุฉ ุงูุนููุงุก/ุงูููุฑุฏูู

## ุงููููุงุช ุงููุนุฏูุฉ (Modified Files)
- `src/components/Invoices.jsx` (ุชู ุชุนุฏูู 400+ ุณุทุฑ)

## ุงูุชุงุฑูุฎ (Date)
- **ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 29 ุฃูุชูุจุฑ 2025
- **ุงูุฅุตุฏุงุฑ:** v6.1 (ุงูููุทู ุงูุตุญูุญ)

## ุงูููุงุญุธุงุช (Notes)
- โ ุงูููุทู ุงูุตุญูุญ: ุงููุจูุนุงุช ูุงุจูุฉ ููุชุนุฏููุ ุงููุดุชุฑูุงุช ุบูุฑ ูุงุจูุฉ
- โ ููุฒุฉ "ุฅุฑุฌุงุน ูุฅุนุงุฏุฉ ูุชุงุจุฉ" ูููุดุชุฑูุงุช
- โ ุงูุชุญูู ูู ุงููุฎุฒูู ูู ุฌููุน ุงูุนูููุงุช
- โ ุชุชุจุน ูุงูู ูุฌููุน ุงูุชุบููุฑุงุช ุนุจุฑ console.log
- โ ุญูุงูุฉ ูู ุงูุชูุงุนุจ ูู ูุซุงุฆู ุงูููุฑุฏูู

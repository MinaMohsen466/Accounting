# ุฅุตูุงุญ ูุดุงูู ูุฑุชุฌุน ุงููุจูุนุงุช ูุญุณุงุจ ุงูููุฑุฏ

## ๐ ุงููุดุงูู ุงูููุตูุญุฉ

### 1๏ธโฃ ูุดููุฉ: ูุจูุบ ุงููุฑุชุฌุน ููุญุณุจ ุนูู ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู ุจุฏูุงู ูู ุฑุตูุฏ ุงูุนููู โ

#### ุงููุตู:
ุนูุฏ ุฅูุดุงุก ูุงุชูุฑุฉ ูุฑุชุฌุน ูุจูุนุงุชุ ูุงู ุงูููุฏ ุงููุญุงุณุจู ูุณุชุฎุฏู ุงูุฎุฒููุฉ ุจุฏูุงู ูู ุญุณุงุจ ุงูุนูููุ ููุง ูุคุฏู ุฅูู:
- โ ุชุฃุซูุฑ ุฎุงุทุฆ ุนูู ุงูุฎุฒููุฉ
- โ ุนุฏู ุชุนุฏูู ุฑุตูุฏ ุงูุนููู
- โ ุฎูู ูู ูุดู ุญุณุงุจ ุงูุนููู

#### ุงูุณุจุจ:
ูู ููู `src/hooks/useAccounting.js` ุฏุงูุฉ `createJournalEntryFromInvoice`:
```javascript
// โ ุงูููุฏ ุงููุฏูู (ุฎุงุทุฆ):
if (isReturn) {
  // ุงูุนููู (ุฏุงุฆู) - ุตุญูุญ โ
  lines.push({ credit: total, ... })
  
  // ุงูุฎุฒููุฉ (ุฏุงุฆู) - ุฎุทุฃ โ
  lines.push({
    accountId: cashAccount.id,
    debit: 0,
    credit: total,  // โ ุฎุทุฃ! ูุฑุฌุน ุงููุงูุ
    description: 'ุฅุฑุฌุงุน ูุจูุบ ูุฑุชุฌุน'
  })
}
```

**ุงููุดููุฉ:** ุงูููุฏ ููุณุฌู:
```
ูู ุญู/ ุงููุจูุนุงุช       XXX  (ูุฏูู - ุตุญูุญ)
ูู ุญู/ ุถุฑูุจุฉ ู.ู       XXX  (ูุฏูู - ุตุญูุญ)
    ุฅูู ุญู/ ุงูุนููุงุก           XXX  (ุฏุงุฆู - ุตุญูุญ)
    ุฅูู ุญู/ ุงูุฎุฒููุฉ           XXX  (ุฏุงุฆู - ุฎุทุฃ!)
```

**ุงููุชูุฌุฉ:** ูุฌููุน ุงููุฏูู โ ูุฌููุน ุงูุฏุงุฆู (ููุฏ ุบูุฑ ูุชูุงุฒู!)

---

#### ุงูุญู:
ุชู ุญุฐู ุณุทุฑ ุงูุฎุฒููุฉ ุชูุงูุงู:

```javascript
// โ ุงูููุฏ ุงูุฌุฏูุฏ (ุตุญูุญ):
if (isReturn) {
  // โ ุงูููุฏ ุงูุตุญูุญ ููุฑุชุฌุน ุงููุจูุนุงุช:
  // ูู ุญู/ ุงููุจูุนุงุช (ูุฏูู - ููููุต ุงูุฅูุฑุงุฏุงุช)
  // ูู ุญู/ ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ (ูุฏูู - ููููุต ุงูุงูุชุฒุงู)
  //     ุฅูู ุญู/ ุงูุนููุงุก (ุฏุงุฆู - ููููุต ูุฏููููุชู ููุง)
  //
  // โ ูุง ูุณุชุฎุฏู ุงูุฎุฒููุฉ! ูุฃู ุงููุฑุชุฌุน ููุญุณุจ ุนูู ุฑุตูุฏ ุงูุนููู
  
  lines.push({
    accountId: customerAccount.id,
    accountName: customerAccount.name,
    debit: 0,
    credit: total,
    description: `ูุฑุชุฌุน ูุจูุนุงุช ุฑูู ${invoice.invoiceNumber} - ุชุฎููุถ ุฑุตูุฏ ุงูุนููู`
  })
}
```

**ุงูููุฏ ุงููุชูุงุฒู:**
```
ูู ุญู/ ุงููุจูุนุงุช       1000  (ูุฏูู)
ูู ุญู/ ุถุฑูุจุฉ ู.ู       150   (ูุฏูู)
    ุฅูู ุญู/ ุงูุนููุงุก           1150  (ุฏุงุฆู)
```

---

#### ุงูููุงุฆุฏ:
- โ ุงูููุฏ ูุชูุงุฒู (ูุฌููุน ุงููุฏูู = ูุฌููุน ุงูุฏุงุฆู)
- โ ุฑุตูุฏ ุงูุนููู ูุชู ุชุนุฏููู ุจุดูู ุตุญูุญ
- โ ุงูุฎุฒููุฉ ูุง ุชุชุฃุซุฑ (ุงููุฑุชุฌุน ุนูู ุงูุญุณุงุจ)
- โ ูุดู ุญุณุงุจ ุงูุนููู ุตุญูุญ

---

### 2๏ธโฃ ูุดููุฉ: ุนุฏู ุฅูุดุงุก ุญุณุงุจ ูุฑุนู ููููุฑุฏ ุชููุงุฆูุงู โ

#### ุงููุตู:
ุนูุฏ ุฅูุดุงุก ููุฑุฏ ุฌุฏูุฏุ ูุงู ุงูุญุณุงุจ ุงููุญุงุณุจู ูููุดุฃ ุจููุฏ ุฎุงุทุฆ:
- โ ุงูููุฏ: `2101-xxxxxxxx` (ุญุณุงุจ ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ!)
- โ ุงูุญุณุงุจ ุงูุฃุจ: `2101` (ุฎุทุฃ)
- โ ุงููุทููุจ: `2001-xxxxxxxx` (ุญุณุงุจ ุงูููุฑุฏูู)
- โ ุงูุญุณุงุจ ุงูุฃุจ: `2001` (ุตุญูุญ)

#### ุงูุณุจุจ:
ูู ููู `src/hooks/useAccounting.js` ุฏุงูุฉ `addSupplier`:
```javascript
// โ ุงูููุฏ ุงููุฏูู (ุฎุงุทุฆ):
const supplierAccount = {
  code: `2101-${newSupplier.id.slice(0, 8)}`,  // โ 2101 = ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ!
  parentAccount: '2101',                       // โ ุฎุทุฃ!
  ...
}
```

**ุงููุดููุฉ:**
- `2001` = ุงูููุฑุฏูู (ุงูุญุณุงุจ ุงูุฃุจ ุงูุตุญูุญ)
- `2101` = ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ (ุฎุทุฃ!)
- `2001-XXXXXXXX` = ุญุณุงุจ ููุฑุฏ ูุฑุฏู (ุญุณุงุจ ูุฑุนู)

---

#### ุงูุญู:
ุชู ุชุตุญูุญ ุงูููุฏ ูุงูุฑูู ุงูุฃุจ:

```javascript
// โ ุงูููุฏ ุงูุฌุฏูุฏ (ุตุญูุญ):
const supplierAccount = {
  code: `2001-${newSupplier.id.slice(0, 8)}`,  // โ 2001 = ุงูููุฑุฏูู
  name: `ููุฑุฏ: ${newSupplier.name}`,
  type: 'liability',
  category: 'current_liabilities',
  subcategory: 'accounts_payable',
  parentAccount: '2001',  // โ ุงูุญุณุงุจ ุงูุฃุจ ุงูุตุญูุญ: 2001 - ุงูููุฑุฏูู
  description: `ุญุณุงุจ ุงูููุฑุฏ ${newSupplier.name}`,
  linkedEntityType: 'supplier',
  linkedEntityId: newSupplier.id,
  balance: 0
}
```

---

#### ููุงุฑูุฉ ุงูุนููุงุก ูุงูููุฑุฏูู:

| ุงูุนูุตุฑ | ุงูุนููุงุก | ุงูููุฑุฏูู |
|--------|---------|----------|
| **ุงูุญุณุงุจ ุงูุฃุจ** | `1101` - ุงูุนููุงุก | `2001` - ุงูููุฑุฏูู |
| **ููุฏ ุงูุญุณุงุจ ุงููุฑุนู** | `1101-XXXXXXXX` | `2001-XXXXXXXX` |
| **ุงูููุน** | ุฃุตูู (Asset) | ุงูุชุฒุงูุงุช (Liability) |
| **ุงููุฆุฉ** | ุฃุตูู ูุชุฏุงููุฉ | ุงูุชุฒุงูุงุช ูุชุฏุงููุฉ |
| **ุงููุฆุฉ ุงููุฑุนูุฉ** | ุฐูู ูุฏููุฉ | ุฐูู ุฏุงุฆูุฉ |

---

#### ุงูููุงุฆุฏ:
- โ ุงูุญุณุงุจ ุงููุฑุนู ูููุดุฃ ุชุญุช ุงูุญุณุงุจ ุงูุฃุจ ุงูุตุญูุญ
- โ ุดุฌุฑุฉ ุฏููู ุงูุญุณุงุจุงุช ููุธูุฉ ุจุดูู ุตุญูุญ
- โ ูุดู ุญุณุงุจ ุงูููุฑุฏูู ูุนูู ุจุดูู ุตุญูุญ
- โ ุชูุงุฑูุฑ ุงูููุฑุฏูู ุฏูููุฉ

---

## ๐ ุฃูุซูุฉ ุนูููุฉ

### ูุซุงู 1: ูุฑุชุฌุน ูุจูุนุงุช

#### ุงูุจูุงูุงุช:
- ูุงุชูุฑุฉ ูุจูุนุงุช: 1000 ุฏููุงุฑ
- ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ: 150 ุฏููุงุฑ
- ุงููุฌููุน: 1150 ุฏููุงุฑ
- ุงูุนููู: ุฃุญูุฏ ูุญูุฏ

#### ุงูููุฏ ูุจู ุงูุฅุตูุงุญ (ุฎุงุทุฆ โ):
```
ูู ุญู/ ุงููุจูุนุงุช               1000  (ูุฏูู)
ูู ุญู/ ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ    150  (ูุฏูู)
    ุฅูู ุญู/ ุงูุนููุงุก - ุฃุญูุฏ           1150  (ุฏุงุฆู)
    ุฅูู ุญู/ ุงูุฎุฒููุฉ                   1150  (ุฏุงุฆู)  โ ุฎุทุฃ!

ุงููุฌููุน ุงููุฏูู:  1150
ุงููุฌููุน ุงูุฏุงุฆู:  2300  โ ุบูุฑ ูุชูุงุฒู!
```

#### ุงูููุฏ ุจุนุฏ ุงูุฅุตูุงุญ (ุตุญูุญ โ):
```
ูู ุญู/ ุงููุจูุนุงุช               1000  (ูุฏูู)
ูู ุญู/ ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ    150  (ูุฏูู)
    ุฅูู ุญู/ ุงูุนููุงุก - ุฃุญูุฏ           1150  (ุฏุงุฆู)

ุงููุฌููุน ุงููุฏูู:  1150
ุงููุฌููุน ุงูุฏุงุฆู:  1150  โ ูุชูุงุฒู!
```

#### ุงูุชุฃุซูุฑ ุนูู ูุดู ุญุณุงุจ ุงูุนููู:

**ูุจู ุงูุฅุตูุงุญ:**
```
ุงูุนููู: ุฃุญูุฏ ูุญูุฏ
---------------------------------
ุงูุฑุตูุฏ ุงูุณุงุจู:   5000 (ูุฏูู)
ูุฑุชุฌุน ูุจูุนุงุช:    1150 (ุฏุงุฆู)
---------------------------------
ุงูุฑุตูุฏ ุงูุญุงูู:   3850 (ูุฏูู)  โ ุตุญูุญ

ุงูุฎุฒููุฉ:
---------------------------------
ุงูุฑุตูุฏ ุงูุณุงุจู:   10000
ูุฑุชุฌุน ูุจูุนุงุช:    -1150  โ ุฎุทุฃ! (ูู ูุฑุฌุน ูุงู ูุนูุงู)
---------------------------------
ุงูุฑุตูุฏ ุงูุญุงูู:   8850   โ ุฎุทุฃ!
```

**ุจุนุฏ ุงูุฅุตูุงุญ:**
```
ุงูุนููู: ุฃุญูุฏ ูุญูุฏ
---------------------------------
ุงูุฑุตูุฏ ุงูุณุงุจู:   5000 (ูุฏูู)
ูุฑุชุฌุน ูุจูุนุงุช:    1150 (ุฏุงุฆู)
---------------------------------
ุงูุฑุตูุฏ ุงูุญุงูู:   3850 (ูุฏูู)  โ ุตุญูุญ

ุงูุฎุฒููุฉ:
---------------------------------
ุงูุฑุตูุฏ ุงูุณุงุจู:   10000
(ูุง ุชุฃุซูุฑ)
---------------------------------
ุงูุฑุตูุฏ ุงูุญุงูู:   10000  โ ุตุญูุญ!
```

---

### ูุซุงู 2: ุฅูุดุงุก ููุฑุฏ ุฌุฏูุฏ

#### ุงูุจูุงูุงุช:
- ุงุณู ุงูููุฑุฏ: ุดุฑูุฉ ุงูุชูุฑูุฏุงุช ุงูุนุงูููุฉ
- ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู: 5000 ุฏููุงุฑ (ุนูููุง ููููุฑุฏ)

#### ุงูุญุณุงุจ ูุจู ุงูุฅุตูุงุญ (ุฎุงุทุฆ โ):
```
ุงูููุฏ: 2101-abc12345  โ (ุญุณุงุจ ุงูุถุฑูุจุฉ!)
ุงูุงุณู: ููุฑุฏ: ุดุฑูุฉ ุงูุชูุฑูุฏุงุช ุงูุนุงูููุฉ
ุงูุญุณุงุจ ุงูุฃุจ: 2101 - ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ  โ ุฎุทุฃ!
ุงูููุน: ุงูุชุฒุงู
```

**ุงููุดููุฉ:**
- ุงูุญุณุงุจ ูุธูุฑ ุชุญุช "ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ" ูู ุงูุดุฌุฑุฉ!
- ูุง ูุธูุฑ ูู ุชูุฑูุฑ ุงูููุฑุฏูู
- ูุดู ุงูุญุณุงุจ ูุง ูุนูู ุจุดูู ุตุญูุญ

#### ุงูุญุณุงุจ ุจุนุฏ ุงูุฅุตูุงุญ (ุตุญูุญ โ):
```
ุงูููุฏ: 2001-abc12345  โ
ุงูุงุณู: ููุฑุฏ: ุดุฑูุฉ ุงูุชูุฑูุฏุงุช ุงูุนุงูููุฉ
ุงูุญุณุงุจ ุงูุฃุจ: 2001 - ุงูููุฑุฏูู  โ ุตุญูุญ!
ุงูููุน: ุงูุชุฒุงู
```

**ุงูููุงุฆุฏ:**
- โ ุงูุญุณุงุจ ูุธูุฑ ุชุญุช "ุงูููุฑุฏูู" ูู ุงูุดุฌุฑุฉ
- โ ูุธูุฑ ูู ุชูุฑูุฑ ุงูููุฑุฏูู
- โ ูุดู ุงูุญุณุงุจ ูุนูู ุจุดูู ุตุญูุญ
- โ ูููู ุชุถููู ุงูุญุณุงุจุงุช ุงููุฑุนูุฉ ูู ูุดู ุญุณุงุจ ุงูููุฑุฏูู (2001)

---

## ๐ฏ ุดุฌุฑุฉ ุงูุญุณุงุจุงุช ุงูุตุญูุญุฉ

### ูุจู ุงูุฅุตูุงุญ (ุฎุงุทุฆ โ):
```
2000 - ุงูุงูุชุฒุงูุงุช
  โโ 2001 - ุงูููุฑุฏูู
  โโ 2101 - ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ
      โโ 2101-abc12345 - ููุฑุฏ: ุดุฑูุฉ ุฃ  โ ุฎุทุฃ!
      โโ 2101-def67890 - ููุฑุฏ: ุดุฑูุฉ ุจ  โ ุฎุทุฃ!
```

### ุจุนุฏ ุงูุฅุตูุงุญ (ุตุญูุญ โ):
```
2000 - ุงูุงูุชุฒุงูุงุช
  โโ 2001 - ุงูููุฑุฏูู
  โ   โโ 2001-abc12345 - ููุฑุฏ: ุดุฑูุฉ ุฃ  โ
  โ   โโ 2001-def67890 - ููุฑุฏ: ุดุฑูุฉ ุจ  โ
  โโ 2101 - ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ  โ
```

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

### `src/hooks/useAccounting.js`

#### ุงูุชุนุฏูู 1: ุฏุงูุฉ `createJournalEntryFromInvoice` (ุงูุณุทูุฑ 754-766)
**ูุจู:**
```javascript
if (isReturn) {
  lines.push({ /* ุงูุนููู ุฏุงุฆู */ })
  lines.push({ /* ุงูุฎุฒููุฉ ุฏุงุฆู โ */ })
}
```

**ุจุนุฏ:**
```javascript
if (isReturn) {
  // โ ุงูุนููู ููุท (ุฏุงุฆู) - ูุง ุฎุฒููุฉ
  lines.push({
    accountId: customerAccount.id,
    credit: total,
    description: 'ุชุฎููุถ ุฑุตูุฏ ุงูุนููู'
  })
}
```

#### ุงูุชุนุฏูู 2: ุฏุงูุฉ `addSupplier` (ุงูุณุทุฑ 442)
**ูุจู:**
```javascript
const supplierAccount = {
  code: `2101-${newSupplier.id}`,  // โ
  parentAccount: '2101',           // โ
  ...
}
```

**ุจุนุฏ:**
```javascript
const supplierAccount = {
  code: `2001-${newSupplier.id}`,  // โ
  parentAccount: '2001',           // โ ุงูุญุณุงุจ ุงูุฃุจ: ุงูููุฑุฏูู
  ...
}
```

---

## โ ุงููุชุงุฆุฌ

### 1. ูุฑุชุฌุน ุงููุจูุนุงุช:
- โ ุงูููุฏ ูุชูุงุฒู
- โ ุฑุตูุฏ ุงูุนููู ุตุญูุญ
- โ ุงูุฎุฒููุฉ ูุง ุชุชุฃุซุฑ (ุงููุฑุชุฌุน ุนูู ุงูุญุณุงุจ)
- โ ูุดู ุญุณุงุจ ุงูุนููู ุฏููู

### 2. ุญุณุงุจ ุงูููุฑุฏ:
- โ ุงูุญุณุงุจ ุงููุฑุนู ูููุดุฃ ุชุญุช ุงูุญุณุงุจ ุงูุฃุจ ุงูุตุญูุญ (2001)
- โ ุดุฌุฑุฉ ุฏููู ุงูุญุณุงุจุงุช ููุธูุฉ
- โ ูุดู ุญุณุงุจ ุงูููุฑุฏูู ูุนูู ุจุดูู ุตุญูุญ
- โ ุฎุงุตูุฉ "ุชุถููู ุงูุญุณุงุจุงุช ุงููุฑุนูุฉ" ุชุนูู

---

## ๐งช ููููุฉ ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ 1: ูุฑุชุฌุน ูุจูุนุงุช
```
1. ุฃูุดุฆ ูุงุชูุฑุฉ ูุจูุนุงุช ูุนููู (1000 ุฏููุงุฑ)
2. ุณุฌูู ุงููุงุชูุฑุฉ ูู "ุขุฌู" (ุนูู ุงูุญุณุงุจ)
3. ุฃูุดุฆ ูุฑุชุฌุน ูููุงุชูุฑุฉ (500 ุฏููุงุฑ)
4. ุชุญูู ูู ูุดู ุญุณุงุจ ุงูุนููู:
   โ ูุฌุจ ุฃู ููุธูุฑ:
      - ูุงุชูุฑุฉ: 1000 (ูุฏูู)
      - ูุฑุชุฌุน: 500 (ุฏุงุฆู)
      - ุงูุฑุตูุฏ: 500 (ูุฏูู)
5. ุชุญูู ูู ุงูุฎุฒููุฉ:
   โ ูุฌุจ ุฃูุง ุชุชุฃุซุฑ (ูู ูุฑุฌุน ูุงู ูุนูุงู)
6. ุชุญูู ูู ุงูููุฏ ุงููููู:
   โ ูุฌุจ ุฃู ูููู ูุชูุงุฒูุงู
```

### ุงุฎุชุจุงุฑ 2: ุฅูุดุงุก ููุฑุฏ
```
1. ุฃูุดุฆ ููุฑุฏ ุฌุฏูุฏ (ุงุณู: ุดุฑูุฉ ุงูุชูุฑูุฏุงุช)
2. ุชุญูู ูู ุฏููู ุงูุญุณุงุจุงุช:
   โ ูุฌุจ ุฃู ูุธูุฑ ุชุญุช "2001 - ุงูููุฑุฏูู"
   โ ูุฌุจ ุฃูุง ูุธูุฑ ุชุญุช "2101 - ุถุฑูุจุฉ"
3. ุงูุชุญ ูุดู ุญุณุงุจ ุงูููุฑุฏูู (2001):
   โ ูุนูู "ุชุถููู ุงูุญุณุงุจุงุช ุงููุฑุนูุฉ"
   โ ูุฌุจ ุฃู ูุธูุฑ ุงูููุฑุฏ ุงูุฌุฏูุฏ
4. ุชุญูู ูู ููุฏ ุงูุญุณุงุจ:
   โ ูุจุฏุฃ ุจู 2001-XXXXXXXX
```

---

**ุขุฎุฑ ุชุญุฏูุซ:** 2025-11-02  
**ุงูุฅุตุฏุงุฑ:** 5.3  
**ุงููุทูุฑ:** MinaMohsen466

